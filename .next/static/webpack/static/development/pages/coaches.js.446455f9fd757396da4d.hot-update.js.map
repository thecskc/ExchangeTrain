{"version":3,"file":"static/webpack/static\\development\\pages\\coaches.js.446455f9fd757396da4d.hot-update.js","sources":["webpack:///./pages/coaches.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport firebase from \"../components/firebase\";\r\nimport \"../styling/coaches.css\"\r\nimport \"../styling/style.css\"\r\nimport Coach from \"../components/Coach\"\r\nimport Navbar from \"../components/navbar\";\r\nimport Loader from \"../components/Loader\"\r\n\r\nclass Coaches extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getCoaches = this.getCoaches.bind(this);\r\n\r\n        this.state = {\r\n            \"loadedCoaches\": false,\r\n            \"loaded\": false,\r\n            \"user\": null,\r\n            \"profile\":false\r\n\r\n        };\r\n        this.coaches = [];\r\n\r\n        console.log(\"constructor called\");\r\n\r\n\r\n    }\r\n\r\n    getCoaches() {\r\n\r\n\r\n        const coachesRef = firebase.firestore().collection(\"Profiles\").where(\"isCoach\", \"==\", true).get()\r\n            .then((snapshot) => {\r\n\r\n                let count = 1;\r\n                snapshot.forEach(\r\n                    (doc) => {\r\n                        this.coaches.push(\r\n                            <Coach\r\n                                key={doc.id}\r\n                                coachid={doc.id}\r\n                                name={doc.data().displayName}\r\n                                bio={doc.data().bio}\r\n                                company={doc.data().schoolcompany}\r\n                                location={doc.data().location}\r\n                                resume={doc.data().resume}\r\n                                userid={this.state.user.uid}\r\n                            />\r\n                        );\r\n\r\n                    });\r\n\r\n                console.log(\"Coaches list\");\r\n                console.log(this.coaches);\r\n                console.log(this.coaches.length);\r\n\r\n                this.setState({\"loadedCoaches\": true});\r\n\r\n\r\n            });\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n\r\n            if (user) {\r\n                console.log(\"user\");\r\n                console.log(user);\r\n\r\n                firebase.firestore().collection(\"Profiles\").doc(user.uid).get().then((doc)=>{\r\n                    if(doc.exists){\r\n                        this.setState({\"loaded\": true, \"user\": user,\"profile\":true});\r\n                        this.getCoaches();\r\n\r\n                    }\r\n                    else{\r\n                        this.setState({\"loaded\": true, \"user\": user,\"profile\":false});\r\n                    }\r\n                })\r\n\r\n\r\n\r\n            }\r\n            else {\r\n                this.setState({\"loaded\": true, \"user\": null});\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.loaded) {\r\n            if (this.state.user) {\r\n                if(this.state.profile) {\r\n\r\n                    if (this.state.loadedCoaches) {\r\n                        return (\r\n\r\n                            <>\r\n                                <Navbar user={this.state.user}/>\r\n                                <div className=\"coaches-container\">\r\n\r\n\r\n                                    <div className=\"page-heading\" style={{\"alignSelf\": \"center\"}}>Coaches</div>\r\n\r\n                                    <div className=\"card-section\">\r\n                                        {this.coaches}\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            </>\r\n                        );\r\n\r\n                    }\r\n                    else {\r\n\r\n\r\n                        return (<Loader/>);\r\n\r\n                    }\r\n                }\r\n                else{\r\n                    return(<h1>Please fill out your profile first</h1>);\r\n                }\r\n            }\r\n            else {\r\n                return (<h1>Not Logged In</h1>)\r\n            }\r\n        }\r\n        else {\r\n            return (\r\n                <Loader/>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Coaches;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AAdA;AAiBA;AACA;;;AACA;AAAA;AACA;AAEA;AAGA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAGA;;;AAEA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;;;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;;AAtIA;AACA;AA2IA;;;;A","sourceRoot":""}