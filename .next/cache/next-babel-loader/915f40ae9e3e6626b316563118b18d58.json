{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\santh\\\\WebstormProjects\\\\ExchangeTrain\\\\pages\\\\profile.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport firebase from \"../components/firebase\";\nimport Router from 'next/router';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from '@material-ui/core/Button';\nimport \"../styling/style.css\";\nimport Navbar from \"../components/navbar\";\nimport Loader from \"../components/Loader\";\nimport { isWebUri } from \"valid-url\";\nimport LoggedOut from \"../components/loggedout\";\nimport \"../styling/material-components-web.min.css\";\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n    _this.state = {\n      \"user\": null,\n      \"loaded\": false,\n      \"displayName\": \"\",\n      \"bio\": \"\",\n      \"coachcode\": \"\",\n      \"schoolcompany\": \"\",\n      \"location\": \"\",\n      \"isCoach\": false,\n      \"calendlylink\": \"\",\n      \"resume\": \"\",\n      \"area_of_training\": \"Software Engineering\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.loadedProfile = _this.loadedProfile.bind(_assertThisInitialized(_this));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_this));\n    _this.handleAccessCode = _this.handleAccessCode.bind(_assertThisInitialized(_this));\n    _this.cutWords = _this.cutWords.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"cutWords\",\n    value: function cutWords(strVal) {\n      var result = strVal;\n      var resultArray = result.split(\" \");\n\n      if (resultArray.length > 100) {\n        resultArray = resultArray.slice(0, 100);\n        result = resultArray.join(\" \") + \"...\";\n      } // console.log(\"invoked cutwords\");\n\n\n      return result;\n    }\n  }, {\n    key: \"handleAccessCode\",\n    value: function handleAccessCode() {\n      if (this.state.coachcode === process.env.COACH_CODE.toString()) {\n        this.setState({\n          \"coachcode\": this.state.coachcode,\n          \"isCoach\": true\n        });\n      } else {\n        this.setState({\n          \"coachcode\": this.state.coachcode,\n          \"isCoach\": false\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      event.preventDefault();\n      var nameVal = event.target.name;\n      var valueVal = event.target.value;\n      this.setState(_defineProperty({}, nameVal, valueVal));\n    }\n  }, {\n    key: \"loadedProfile\",\n    value: function loadedProfile(inputMap) {\n      var stateMap = {};\n\n      for (var key in inputMap) {\n        if (inputMap.hasOwnProperty(key)) {\n          stateMap[key] = inputMap[key];\n        }\n      }\n\n      this.setState(stateMap);\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var error = \"\";\n\n      if (!this.state.displayName) {\n        error += \" Please add your name.\";\n      }\n\n      if (!this.state.bio) {\n        error += \" Please add your bio.\";\n      }\n\n      if (!this.state.schoolcompany) {\n        error += \" Please list your school or company.\";\n      }\n\n      if (!this.state.location) {\n        error += \" Please enter your location.\";\n      }\n\n      if (!this.state.area_of_training) {\n        error += \" Please choose your area of training (data science, software engineering, etc)\";\n      }\n\n      if (!this.state.resume) {\n        error += \" Please add a link to your resume.\";\n      } else {\n        if (!isWebUri(this.state.resume)) {\n          error += \"Please enter a valid URL for your resume\";\n        }\n      }\n\n      if (this.state.isCoach) {\n        if (!this.state.calendlylink) {\n          error += \" Please add your calendly link\";\n        }\n      }\n\n      if (error) {\n        alert(error);\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"settingData\",\n    value: function settingData() {\n      var setMap = {\n        \"displayName\": this.state.displayName,\n        \"bio\": this.state.bio,\n        \"location\": this.state.location,\n        \"schoolcompany\": this.state.schoolcompany,\n        \"resume\": this.state.resume,\n        \"area_of_training\": this.state.area_of_training\n      };\n\n      if (this.state.isCoach) {\n        setMap[\"isCoach\"] = true;\n        setMap[\"coachcode\"] = this.state.coachcode;\n        setMap[\"calendlylink\"] = this.state.calendlylink;\n      }\n\n      return setMap;\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n\n      if (this.validateForm()) {\n        this.handleAccessCode();\n        this.state.bio = this.cutWords(this.state.bio);\n        var dbRef = firebase.firestore().collection(\"Profiles\").doc(this.state.user.uid).set(this.settingData()).then(function () {\n          var userProfile = {\n            \"user\": _this2.state.user,\n            \"displayName\": _this2.state.displayName,\n            \"bio\": _this2.state.bio,\n            \"location\": _this2.state.location,\n            \"schoolcompany\": _this2.state.schoolcompany,\n            \"resume\": _this2.state.resume,\n            \"area_of_training\": _this2.state.area_of_training\n          };\n\n          if (_this2.state.isCoach) {\n            userProfile[\"isCoach\"] = true;\n            userProfile[\"coachcode\"] = _this2.state.coachcode;\n            userProfile[\"calendlylink\"] = _this2.state.calendlylink;\n          }\n\n          _this2.loadedProfile(userProfile);\n\n          alert(\"Profile Saved\");\n        })[\"catch\"](function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"getUserProfile\",\n    value: function getUserProfile(user) {\n      var _this3 = this;\n\n      var db = firebase.firestore();\n      var docRef = db.collection(\"Profiles\").doc(user.uid);\n      docRef.get().then(function (doc) {\n        if (doc.exists) {\n          var userProfile = {\n            \"user\": user,\n            \"displayName\": doc.data().displayName,\n            \"bio\": doc.data().bio,\n            \"location\": doc.data().location,\n            \"schoolcompany\": doc.data().schoolcompany,\n            \"loaded\": true,\n            \"resume\": doc.data().resume,\n            \"area_of_training\": doc.data().area_of_training\n          };\n\n          if (doc.data().isCoach) {\n            userProfile[\"isCoach\"] = true;\n            userProfile[\"coachcode\"] = doc.data().coachcode;\n            userProfile[\"calendlylink\"] = doc.data().calendlylink;\n          }\n\n          _this3.loadedProfile(userProfile);\n        } else {\n          console.log(\"no document\");\n          var _userProfile = {\n            \"user\": user,\n            \"displayName\": \"\",\n            \"bio\": \"\",\n            \"location\": \"\",\n            \"schoolcompany\": \"\",\n            \"loaded\": true,\n            \"resume\": \"\",\n            \"area_of_training\": \"Software Engineering\"\n          };\n\n          _this3.loadedProfile(_userProfile);\n        }\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this4.getUserProfile(user);\n        } else {\n          _this4.setState({\n            \"loaded\": true,\n            \"user\": null\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (this.state.loaded) {\n        if (this.state.user) {\n          return __jsx(React.Fragment, null, __jsx(Navbar, {\n            user: this.state.user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 272\n            },\n            __self: this\n          }), __jsx(\"div\", {\n            className: \"container\",\n            style: {\n              \"justify-content\": \"center\",\n              \"padding\": \"16px\",\n              marginBottom: \"32px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 274\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            className: \"page-heading\",\n            style: {\n              \"align-self\": \"center\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 277\n            },\n            __self: this\n          }, \"Fill Out Your Profile\"), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279\n            },\n            __self: this\n          }), __jsx(\"form\", {\n            style: {\n              alignSelf: \"center\",\n              width: \"60%\",\n              height: \"80%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 282\n            },\n            __self: this\n          }, __jsx(\"input\", {\n            name: \"displayName\",\n            placeholder: \"Enter Name\",\n            value: this.state.displayName,\n            onChange: this.handleChange,\n            style: {\n              width: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 285\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }), __jsx(\"input\", {\n            name: \"schoolcompany\",\n            placeholder: \"School/Company\",\n            value: this.state.schoolcompany,\n            onChange: this.handleChange,\n            style: {\n              width: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 295\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }), __jsx(\"input\", {\n            name: \"location\",\n            placeholder: \"Location\",\n            value: this.state.location,\n            onChange: this.handleChange,\n            style: {\n              width: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 306\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 316\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 316\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 316\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 316\n            },\n            __self: this\n          }), __jsx(\"textarea\", {\n            name: \"bio\",\n            placeholder: \"Bio (100 words limit)\",\n            value: this.state.bio,\n            onChange: this.handleChange,\n            rows: \"4\",\n            style: {\n              width: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          }), __jsx(\"input\", {\n            name: \"resume\",\n            placeholder: \"Resume URL\",\n            value: this.state.resume,\n            onChange: this.handleChange,\n            style: {\n              width: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 346\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 346\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351\n            },\n            __self: this\n          }), __jsx(\"div\", {\n            style: {\n              fontFamily: \"Open Sans, sans-serif\",\n              fontSize: \"1.4rem\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 353\n            },\n            __self: this\n          }, \"Choose your area of training -\"), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 357\n            },\n            __self: this\n          }), __jsx(\"select\", {\n            value: this.state.area_of_training,\n            name: \"area_of_training\",\n            onChange: this.handleChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 360\n            },\n            __self: this\n          }, __jsx(\"option\", {\n            value: \"Software Engineering\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 362\n            },\n            __self: this\n          }, \"Software Engineering\"), __jsx(\"option\", {\n            value: \"Data Science\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 363\n            },\n            __self: this\n          }, \"Data Science\")), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 367\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 367\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 367\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 367\n            },\n            __self: this\n          }), __jsx(\"input\", {\n            name: \"coachcode\",\n            placeholder: \"Coach Access Code\",\n            value: this.state.coachcode,\n            onChange: this.handleChange,\n            style: {\n              width: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 370\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 378\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 378\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 378\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 378\n            },\n            __self: this\n          }), function () {\n            if (_this5.state.isCoach) {\n              return __jsx(\"input\", {\n                name: \"calendlylink\",\n                placeholder: \"Enter your calendly link\",\n                value: _this5.state.calendlylink,\n                onChange: _this5.handleChange,\n                style: {\n                  width: \"100%\"\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 390\n                },\n                __self: this\n              });\n            }\n          }(), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 405\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 405\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 405\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 405\n            },\n            __self: this\n          }), __jsx(\"button\", {\n            className: \"mdc-button mdc-button--raised\",\n            style: {\n              \"background\": \"orange\",\n              \"width\": \"100%\",\n              \"margin-bottom\": \"10vh\"\n            },\n            onClick: this.editProfile,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 407\n            },\n            __self: this\n          }, __jsx(\"span\", {\n            className: \"mdc-button__label\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 409\n            },\n            __self: this\n          }, \"Save\")), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 412\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 412\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 413\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 413\n            },\n            __self: this\n          }), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 413\n            },\n            __self: this\n          }))));\n        } else {\n          return __jsx(LoggedOut, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 431\n            },\n            __self: this\n          });\n        }\n      } else {\n        return __jsx(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;","map":{"version":3,"sources":["C:\\Users\\santh\\WebstormProjects\\ExchangeTrain\\pages\\profile.js"],"names":["React","Component","firebase","Router","TextField","Button","Navbar","Loader","isWebUri","LoggedOut","Profile","props","state","handleChange","bind","loadedProfile","editProfile","handleAccessCode","cutWords","strVal","result","resultArray","split","length","slice","join","coachcode","process","env","COACH_CODE","toString","setState","event","preventDefault","nameVal","target","name","valueVal","value","inputMap","stateMap","key","hasOwnProperty","error","displayName","bio","schoolcompany","location","area_of_training","resume","isCoach","calendlylink","alert","setMap","validateForm","dbRef","firestore","collection","doc","user","uid","set","settingData","then","userProfile","console","log","db","docRef","get","exists","data","auth","onAuthStateChanged","getUserProfile","loaded","marginBottom","alignSelf","width","height","fontFamily","fontSize"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport firebase from \"../components/firebase\";\r\nimport Router from 'next/router';\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport Button from '@material-ui/core/Button';\r\nimport \"../styling/style.css\"\r\nimport Navbar from \"../components/navbar\";\r\nimport Loader from \"../components/Loader\"\r\nimport {isWebUri} from \"valid-url\"\r\nimport LoggedOut from \"../components/loggedout\";\r\nimport \"../styling/material-components-web.min.css\";\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \"user\": null,\r\n            \"loaded\": false,\r\n            \"displayName\": \"\",\r\n            \"bio\": \"\",\r\n            \"coachcode\": \"\",\r\n            \"schoolcompany\": \"\",\r\n            \"location\": \"\",\r\n            \"isCoach\": false,\r\n            \"calendlylink\": \"\",\r\n            \"resume\": \"\",\r\n            \"area_of_training\":\"Software Engineering\"\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadedProfile = this.loadedProfile.bind(this);\r\n        this.editProfile = this.editProfile.bind(this);\r\n        this.handleAccessCode = this.handleAccessCode.bind(this);\r\n        this.cutWords = this.cutWords.bind(this);\r\n\r\n    }\r\n\r\n    cutWords(strVal) {\r\n        let result = strVal;\r\n        let resultArray = result.split(\" \");\r\n        if (resultArray.length > 100) {\r\n            resultArray = resultArray.slice(0, 100);\r\n            result = resultArray.join(\" \") + \"...\";\r\n        }\r\n        // console.log(\"invoked cutwords\");\r\n        return result;\r\n    }\r\n\r\n\r\n    handleAccessCode() {\r\n\r\n\r\n\r\n\r\n        if (this.state.coachcode === process.env.COACH_CODE.toString()) {\r\n            this.setState({\"coachcode\": this.state.coachcode, \"isCoach\": true})\r\n        }\r\n        else {\r\n            this.setState({\"coachcode\": this.state.coachcode, \"isCoach\": false})\r\n        }\r\n\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        event.preventDefault();\r\n        const nameVal = event.target.name;\r\n        const valueVal = event.target.value;\r\n        this.setState({[nameVal]: valueVal})\r\n    }\r\n\r\n    loadedProfile(inputMap) {\r\n\r\n\r\n        const stateMap = {};\r\n\r\n        for (const key in inputMap) {\r\n\r\n            if (inputMap.hasOwnProperty(key)) {\r\n                stateMap[key] = inputMap[key];\r\n            }\r\n        }\r\n\r\n\r\n\r\n        this.setState(\r\n            stateMap\r\n        );\r\n\r\n    }\r\n\r\n    validateForm() {\r\n        let error = \"\";\r\n\r\n\r\n        if (!this.state.displayName) {\r\n            error += \" Please add your name.\";\r\n        }\r\n        if (!this.state.bio) {\r\n            error += \" Please add your bio.\";\r\n        }\r\n        if (!this.state.schoolcompany) {\r\n            error += \" Please list your school or company.\";\r\n        }\r\n        if (!this.state.location) {\r\n            error += \" Please enter your location.\"\r\n        }\r\n        if(!this.state.area_of_training){\r\n            error += \" Please choose your area of training (data science, software engineering, etc)\"\r\n        }\r\n        if (!this.state.resume) {\r\n            error += \" Please add a link to your resume.\"\r\n        }\r\n        else {\r\n\r\n            if (!isWebUri(this.state.resume)) {\r\n                error += \"Please enter a valid URL for your resume\";\r\n            }\r\n        }\r\n\r\n        if (this.state.isCoach) {\r\n            if (!this.state.calendlylink) {\r\n                error += \" Please add your calendly link\"\r\n            }\r\n\r\n        }\r\n\r\n        if (error) {\r\n            alert(error);\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    settingData() {\r\n\r\n\r\n        const setMap = {\r\n            \"displayName\": this.state.displayName,\r\n            \"bio\": this.state.bio,\r\n            \"location\": this.state.location,\r\n            \"schoolcompany\": this.state.schoolcompany,\r\n            \"resume\": this.state.resume,\r\n            \"area_of_training\":this.state.area_of_training\r\n\r\n        };\r\n\r\n        if (this.state.isCoach) {\r\n            setMap[\"isCoach\"] = true;\r\n            setMap[\"coachcode\"] = this.state.coachcode;\r\n            setMap[\"calendlylink\"] = this.state.calendlylink;\r\n        }\r\n\r\n        return setMap;\r\n    }\r\n\r\n    editProfile(event) {\r\n        event.preventDefault();\r\n\r\n        if (this.validateForm()) {\r\n\r\n            this.handleAccessCode();\r\n            this.state.bio = this.cutWords(this.state.bio);\r\n\r\n            const dbRef = firebase.firestore().collection(\"Profiles\").doc(this.state.user.uid).set(this.settingData()).then(() => {\r\n\r\n                const userProfile = {\r\n                    \"user\": this.state.user,\r\n                    \"displayName\": this.state.displayName,\r\n                    \"bio\": this.state.bio,\r\n                    \"location\": this.state.location,\r\n                    \"schoolcompany\": this.state.schoolcompany,\r\n                    \"resume\": this.state.resume,\r\n                    \"area_of_training\":this.state.area_of_training\r\n\r\n                };\r\n                if (this.state.isCoach) {\r\n                    userProfile[\"isCoach\"] = true;\r\n                    userProfile[\"coachcode\"] = this.state.coachcode;\r\n                    userProfile[\"calendlylink\"] = this.state.calendlylink;\r\n                }\r\n                this.loadedProfile(userProfile);\r\n                alert(\"Profile Saved\");\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    getUserProfile(user) {\r\n        const db = firebase.firestore();\r\n        const docRef = db.collection(\"Profiles\").doc(user.uid);\r\n        docRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n\r\n\r\n                const userProfile = {\r\n                    \"user\": user,\r\n                    \"displayName\": doc.data().displayName,\r\n                    \"bio\": doc.data().bio,\r\n                    \"location\": doc.data().location,\r\n                    \"schoolcompany\": doc.data().schoolcompany,\r\n                    \"loaded\": true,\r\n                    \"resume\": doc.data().resume,\r\n                    \"area_of_training\":doc.data().area_of_training\r\n                };\r\n\r\n                if (doc.data().isCoach) {\r\n                    userProfile[\"isCoach\"] = true;\r\n                    userProfile[\"coachcode\"] = doc.data().coachcode;\r\n                    userProfile[\"calendlylink\"] = doc.data().calendlylink;\r\n                }\r\n                this.loadedProfile(userProfile);\r\n\r\n            }\r\n            else {\r\n                console.log(\"no document\");\r\n                const userProfile = {\r\n                    \"user\": user,\r\n                    \"displayName\": \"\",\r\n                    \"bio\": \"\",\r\n                    \"location\": \"\",\r\n                    \"schoolcompany\": \"\",\r\n                    \"loaded\": true,\r\n                    \"resume\": \"\",\r\n                    \"area_of_training\":\"Software Engineering\"\r\n                };\r\n                this.loadedProfile(userProfile)\r\n\r\n            }\r\n        }).catch(function (error) {\r\n            console.log(error);\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n\r\n            if (user) {\r\n\r\n                this.getUserProfile(user);\r\n\r\n            }\r\n            else {\r\n                this.setState({\"loaded\": true, \"user\": null});\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.state.loaded) {\r\n\r\n            if (this.state.user) {\r\n                return (\r\n\r\n                    <>\r\n                        <Navbar user={this.state.user}/>\r\n\r\n                        <div className=\"container\" style={{\"justify-content\": \"center\", \"padding\":\"16px\",marginBottom:\"32px\"}}>\r\n\r\n\r\n                            <div className=\"page-heading\" style={{\"align-self\": \"center\"}}>Fill Out Your Profile</div>\r\n\r\n                            <br/><br/>\r\n\r\n\r\n                            <form style={{alignSelf:\"center\", width: \"60%\", height: \"80%\"}}>\r\n\r\n\r\n                                <input\r\n\r\n                                    name=\"displayName\"\r\n                                    placeholder=\"Enter Name\"\r\n                                    value={this.state.displayName}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n                                />\r\n                                <br/><br/><br/><br/>\r\n\r\n                                <input\r\n                                    name=\"schoolcompany\"\r\n                                    placeholder=\"School/Company\"\r\n                                    value={this.state.schoolcompany}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n                                <input\r\n                                    name=\"location\"\r\n                                    placeholder=\"Location\"\r\n                                    value={this.state.location}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n                                <textarea\r\n\r\n                                    name=\"bio\"\r\n                                    placeholder=\"Bio (100 words limit)\"\r\n                                    value={this.state.bio}\r\n                                    onChange={this.handleChange}\r\n\r\n                                    rows=\"4\"\r\n\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n                                <input\r\n\r\n                                    name=\"resume\"\r\n                                    placeholder=\"Resume URL\"\r\n                                    value={this.state.resume}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n\r\n                                />\r\n\r\n                                <br/><br/>\r\n\r\n\r\n\r\n\r\n                                <br/><br/>\r\n\r\n                                <div style={{ fontFamily: \"Open Sans, sans-serif\",\r\n                                    fontSize:\"1.4rem\"}}>\r\n                                    Choose your area of training -\r\n                                </div>\r\n                                <br/>\r\n\r\n\r\n                                <select value={this.state.area_of_training} name=\"area_of_training\" onChange={this.handleChange}>\r\n\r\n                                    <option value=\"Software Engineering\">Software Engineering</option>\r\n                                    <option value=\"Data Science\">Data Science</option>\r\n\r\n                                </select>\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n                                <input\r\n                                    name=\"coachcode\"\r\n                                    placeholder=\"Coach Access Code\"\r\n                                    value={this.state.coachcode}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n\r\n\r\n\r\n                                {(() => {\r\n\r\n\r\n                                    if (this.state.isCoach) {\r\n                                        return (\r\n\r\n                                            <input\r\n                                                name=\"calendlylink\"\r\n                                                placeholder=\"Enter your calendly link\"\r\n                                                value={this.state.calendlylink}\r\n                                                onChange={this.handleChange}\r\n                                                style={{width: \"100%\"}}\r\n\r\n                                            />\r\n                                        )\r\n                                    }\r\n\r\n\r\n                                })()}\r\n\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n                                <button className=\"mdc-button mdc-button--raised\"\r\n                                        style={{\"background\": \"orange\", \"width\": \"100%\",\"margin-bottom\":\"10vh\"}} onClick={this.editProfile}>\r\n                                    <span className=\"mdc-button__label\">Save</span>\r\n                                </button>\r\n\r\n                                <br/><br/>\r\n                                <br/><br/><br/>\r\n\r\n\r\n\r\n                                {/*<Button color=\"primary\" variant=\"contained\" onClick={this.editProfile}>*/}\r\n                                {/*Save*/}\r\n                                {/*</Button>*/}\r\n\r\n                            </form>\r\n\r\n                        </div>\r\n\r\n                    </>\r\n\r\n\r\n                );\r\n            }\r\n            else {\r\n                return (<LoggedOut/>)\r\n\r\n            }\r\n        }\r\n        else {\r\n            return (<Loader/>);\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}