{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\santh\\\\WebstormProjects\\\\ExchangeTrain\\\\pages\\\\coaches.js\";\nimport React, { Component } from \"react\";\nimport firebase from \"../components/firebase\";\nimport \"../styling/coaches.css\";\nimport \"../styling/style.css\";\nimport Coach from \"../components/Coach\";\n\nvar Coaches =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Coaches, _Component);\n\n  function Coaches(props) {\n    var _this;\n\n    _classCallCheck(this, Coaches);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Coaches).call(this, props));\n    _this.getCoaches = _this.getCoaches.bind(_assertThisInitialized(_this));\n    _this.state = {\n      \"loadedCoaches\": false,\n      \"loaded\": false,\n      \"user\": null\n    };\n    _this.coaches = [];\n    console.log(\"constructor called\");\n    return _this;\n  }\n\n  _createClass(Coaches, [{\n    key: \"getCoaches\",\n    value: function getCoaches() {\n      var _this2 = this;\n\n      var coachesRef = firebase.firestore().collection(\"Profiles\").where(\"isCoach\", \"==\", true).get().then(function (snapshot) {\n        var count = 1;\n        snapshot.forEach(function (doc) {\n          _this2.coaches.push(React.createElement(Coach, {\n            key: doc.id,\n            coachid: doc.id,\n            name: doc.data().displayName,\n            bio: doc.data().bio,\n            company: doc.data().schoolcompany,\n            userid: _this2.state.user.uid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }));\n        });\n        console.log(\"Coaches list\");\n        console.log(_this2.coaches);\n        console.log(_this2.coaches.length);\n\n        _this2.setState({\n          \"loadedCoaches\": true\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.getCoaches();\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          console.log(\"user\");\n          console.log(user);\n\n          _this3.setState({\n            \"loaded\": true,\n            \"user\": user\n          });\n        } else {\n          _this3.setState({\n            \"loaded\": true,\n            \"user\": null\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loaded) {\n        if (this.state.user) {\n          if (this.state.loadedCoaches) {\n            return React.createElement(\"div\", {\n              className: \"coaches-container\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              style: {\n                \"alignSelf\": \"center\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90\n              },\n              __self: this\n            }, \"Coaches\"), React.createElement(\"div\", {\n              className: \"card-section\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }, this.coaches));\n          } else {\n            return React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 102\n              },\n              __self: this\n            }, \"Loading coaches\");\n          }\n        } else {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, \"Not Logged In\");\n        }\n      } else {\n        return React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"Loading\");\n      }\n    }\n  }]);\n\n  return Coaches;\n}(Component);\n\nexport default Coaches;","map":{"version":3,"sources":["C:\\Users\\santh\\WebstormProjects\\ExchangeTrain\\pages\\coaches.js"],"names":["React","Component","firebase","Coach","Coaches","props","getCoaches","bind","state","coaches","console","log","coachesRef","firestore","collection","where","get","then","snapshot","count","forEach","doc","push","id","data","displayName","bio","schoolcompany","user","uid","length","setState","auth","onAuthStateChanged","loaded","loadedCoaches"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAO,wBAAP;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;IAGMC,O;;;;;AAEF,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;AAEA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB;AAEA,UAAKC,KAAL,GAAa;AACT,uBAAiB,KADR;AAET,gBAAU,KAFD;AAGT,cAAQ;AAHC,KAAb;AAMA,UAAKC,OAAL,GAAe,EAAf;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAbe;AAgBlB;;;;iCAEY;AAAA;;AAGT,UAAMC,UAAU,GAAGV,QAAQ,CAACW,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,EAA4CC,KAA5C,CAAkD,SAAlD,EAA6D,IAA7D,EAAmE,IAAnE,EAAyEC,GAAzE,GACdC,IADc,CACT,UAACC,QAAD,EAAc;AAEhB,YAAIC,KAAK,GAAG,CAAZ;AACAD,QAAAA,QAAQ,CAACE,OAAT,CACI,UAACC,GAAD,EAAS;AACL,UAAA,MAAI,CAACZ,OAAL,CAAaa,IAAb,CACI,oBAAC,KAAD;AACI,YAAA,GAAG,EAAED,GAAG,CAACE,EADb;AAEI,YAAA,OAAO,EAAEF,GAAG,CAACE,EAFjB;AAGI,YAAA,IAAI,EAAEF,GAAG,CAACG,IAAJ,GAAWC,WAHrB;AAII,YAAA,GAAG,EAAEJ,GAAG,CAACG,IAAJ,GAAWE,GAJpB;AAKI,YAAA,OAAO,EAAEL,GAAG,CAACG,IAAJ,GAAWG,aALxB;AAMI,YAAA,MAAM,EAAE,MAAI,CAACnB,KAAL,CAAWoB,IAAX,CAAgBC,GAN5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH,SAbL;AAeAnB,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACF,OAAjB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACF,OAAL,CAAaqB,MAAzB;;AAEA,QAAA,MAAI,CAACC,QAAL,CAAc;AAAC,2BAAiB;AAAlB,SAAd;AAGH,OA1Bc,CAAnB;AA6BH;;;wCAEmB;AAAA;;AAChB,WAAKzB,UAAL;AAGAJ,MAAAA,QAAQ,CAAC8B,IAAT,GAAgBC,kBAAhB,CAAmC,UAACL,IAAD,EAAU;AAEzC,YAAIA,IAAJ,EAAU;AACNlB,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAZ;;AACA,UAAA,MAAI,CAACG,QAAL,CAAc;AAAC,sBAAU,IAAX;AAAiB,oBAAQH;AAAzB,WAAd;AACH,SAJD,MAKK;AACD,UAAA,MAAI,CAACG,QAAL,CAAc;AAAC,sBAAU,IAAX;AAAiB,oBAAQ;AAAzB,WAAd;AACH;AACJ,OAVD;AAaH;;;6BAEQ;AAEL,UAAI,KAAKvB,KAAL,CAAW0B,MAAf,EAAuB;AACnB,YAAI,KAAK1B,KAAL,CAAWoB,IAAf,EAAqB;AAEjB,cAAI,KAAKpB,KAAL,CAAW2B,aAAf,EAA8B;AAC1B,mBACI;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEI;AAAI,cAAA,KAAK,EAAE;AAAC,6BAAa;AAAd,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,EAII;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACK,KAAK1B,OADV,CAJJ,CADJ;AAaH,WAdD,MAeK;AACD,mBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAR;AACH;AACJ,SApBD,MAqBI;AACA,iBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAR;AACH;AACJ,OAzBD,MA0BI;AACA,eAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAR;AACH;AACJ;;;;EAxGiBR,S;;AA8GtB,eAAeG,OAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport firebase from \"../components/firebase\";\r\nimport \"../styling/coaches.css\"\r\nimport \"../styling/style.css\"\r\nimport Coach from \"../components/Coach\"\r\n\r\n\r\nclass Coaches extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getCoaches = this.getCoaches.bind(this);\r\n\r\n        this.state = {\r\n            \"loadedCoaches\": false,\r\n            \"loaded\": false,\r\n            \"user\": null\r\n\r\n        };\r\n        this.coaches = [];\r\n\r\n        console.log(\"constructor called\");\r\n\r\n\r\n    }\r\n\r\n    getCoaches() {\r\n\r\n\r\n        const coachesRef = firebase.firestore().collection(\"Profiles\").where(\"isCoach\", \"==\", true).get()\r\n            .then((snapshot) => {\r\n\r\n                let count = 1;\r\n                snapshot.forEach(\r\n                    (doc) => {\r\n                        this.coaches.push(\r\n                            <Coach\r\n                                key={doc.id}\r\n                                coachid={doc.id}\r\n                                name={doc.data().displayName}\r\n                                bio={doc.data().bio}\r\n                                company={doc.data().schoolcompany}\r\n                                userid={this.state.user.uid}\r\n                            />\r\n                        );\r\n\r\n                    });\r\n\r\n                console.log(\"Coaches list\");\r\n                console.log(this.coaches);\r\n                console.log(this.coaches.length);\r\n\r\n                this.setState({\"loadedCoaches\": true});\r\n\r\n\r\n            });\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCoaches();\r\n\r\n\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n\r\n            if (user) {\r\n                console.log(\"user\");\r\n                console.log(user);\r\n                this.setState({\"loaded\": true, \"user\": user});\r\n            }\r\n            else {\r\n                this.setState({\"loaded\": true, \"user\": null});\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.loaded) {\r\n            if (this.state.user) {\r\n\r\n                if (this.state.loadedCoaches) {\r\n                    return (\r\n                        <div className=\"coaches-container\">\r\n\r\n                            <h1 style={{\"alignSelf\": \"center\"}}>Coaches</h1>\r\n\r\n                            <div className=\"card-section\">\r\n                                {this.coaches}\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    );\r\n\r\n                }\r\n                else {\r\n                    return (<h1>Loading coaches</h1>);\r\n                }\r\n            }\r\n            else{\r\n                return (<h1>Not Logged In</h1>)\r\n            }\r\n        }\r\n        else{\r\n            return (<h1>Loading</h1>)\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Coaches;"]},"metadata":{},"sourceType":"module"}