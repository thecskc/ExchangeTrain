{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\santh\\\\WebstormProjects\\\\ExchangeTrain\\\\pages\\\\profile.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport firebase from \"../components/firebase\";\nimport Router from 'next/router';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from '@material-ui/core/Button';\nimport \"../styling/style.css\";\nimport Navbar from \"../components/navbar\";\nimport Loader from \"../components/Loader\";\nimport { isWebUri } from \"valid-url\";\nimport LoggedOut from \"../components/loggedout\";\nimport \"../styling/material-components-web.min.css\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"user\": null,\n      \"loaded\": false,\n      \"displayName\": \"\",\n      \"bio\": \"\",\n      \"coachcode\": \"\",\n      \"schoolcompany\": \"\",\n      \"location\": \"\",\n      \"isCoach\": false,\n      \"calendlylink\": \"\",\n      \"resume\": \"\",\n      \"area_of_training\": \"Software Engineering\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.loadedProfile = this.loadedProfile.bind(this);\n    this.editProfile = this.editProfile.bind(this);\n    this.handleAccessCode = this.handleAccessCode.bind(this);\n    this.cutWords = this.cutWords.bind(this);\n  }\n\n  cutWords(strVal) {\n    let result = strVal;\n    let resultArray = result.split(\" \");\n\n    if (resultArray.length > 100) {\n      resultArray = resultArray.slice(0, 100);\n      result = resultArray.join(\" \") + \"...\";\n    } // console.log(\"invoked cutwords\");\n\n\n    return result;\n  }\n\n  handleAccessCode() {\n    if (this.state.coachcode === process.env.COACH_CODE.toString()) {\n      this.setState({\n        \"coachcode\": this.state.coachcode,\n        \"isCoach\": true\n      });\n    } else {\n      this.setState({\n        \"coachcode\": this.state.coachcode,\n        \"isCoach\": false\n      });\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const nameVal = event.target.name;\n    const valueVal = event.target.value;\n    this.setState({\n      [nameVal]: valueVal\n    });\n  }\n\n  loadedProfile(inputMap) {\n    const stateMap = {};\n\n    for (const key in inputMap) {\n      if (inputMap.hasOwnProperty(key)) {\n        stateMap[key] = inputMap[key];\n      }\n    }\n\n    this.setState(stateMap);\n  }\n\n  validateForm() {\n    let error = \"\";\n\n    if (!this.state.displayName) {\n      error += \" Please add your name.\";\n    }\n\n    if (!this.state.bio) {\n      error += \" Please add your bio.\";\n    }\n\n    if (!this.state.schoolcompany) {\n      error += \" Please list your school or company.\";\n    }\n\n    if (!this.state.location) {\n      error += \" Please enter your location.\";\n    }\n\n    if (!this.state.area_of_training) {\n      error += \" Please choose your area of training (data science, software engineering, etc)\";\n    }\n\n    if (!this.state.resume) {\n      error += \" Please add a link to your resume.\";\n    } else {\n      if (!isWebUri(this.state.resume)) {\n        error += \"Please enter a valid URL for your resume\";\n      }\n    }\n\n    if (this.state.isCoach) {\n      if (!this.state.calendlylink) {\n        error += \" Please add your calendly link\";\n      }\n    }\n\n    if (error) {\n      alert(error);\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  settingData() {\n    const setMap = {\n      \"displayName\": this.state.displayName,\n      \"bio\": this.state.bio,\n      \"location\": this.state.location,\n      \"schoolcompany\": this.state.schoolcompany,\n      \"resume\": this.state.resume,\n      \"area_of_training\": this.state.area_of_training\n    };\n\n    if (this.state.isCoach) {\n      setMap[\"isCoach\"] = true;\n      setMap[\"coachcode\"] = this.state.coachcode;\n      setMap[\"calendlylink\"] = this.state.calendlylink;\n    }\n\n    return setMap;\n  }\n\n  editProfile(event) {\n    event.preventDefault();\n\n    if (this.validateForm()) {\n      this.handleAccessCode();\n      this.state.bio = this.cutWords(this.state.bio);\n      const dbRef = firebase.firestore().collection(\"Profiles\").doc(this.state.user.uid).set(this.settingData()).then(() => {\n        const userProfile = {\n          \"user\": this.state.user,\n          \"displayName\": this.state.displayName,\n          \"bio\": this.state.bio,\n          \"location\": this.state.location,\n          \"schoolcompany\": this.state.schoolcompany,\n          \"resume\": this.state.resume,\n          \"area_of_training\": this.state.area_of_training\n        };\n\n        if (this.state.isCoach) {\n          userProfile[\"isCoach\"] = true;\n          userProfile[\"coachcode\"] = this.state.coachcode;\n          userProfile[\"calendlylink\"] = this.state.calendlylink;\n        }\n\n        this.loadedProfile(userProfile);\n        alert(\"Profile Saved\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  getUserProfile(user) {\n    const db = firebase.firestore();\n    const docRef = db.collection(\"Profiles\").doc(user.uid);\n    docRef.get().then(doc => {\n      if (doc.exists) {\n        const userProfile = {\n          \"user\": user,\n          \"displayName\": doc.data().displayName,\n          \"bio\": doc.data().bio,\n          \"location\": doc.data().location,\n          \"schoolcompany\": doc.data().schoolcompany,\n          \"loaded\": true,\n          \"resume\": doc.data().resume,\n          \"area_of_training\": doc.data().area_of_training\n        };\n\n        if (doc.data().isCoach) {\n          userProfile[\"isCoach\"] = true;\n          userProfile[\"coachcode\"] = doc.data().coachcode;\n          userProfile[\"calendlylink\"] = doc.data().calendlylink;\n        }\n\n        this.loadedProfile(userProfile);\n      } else {\n        console.log(\"no document\");\n        const userProfile = {\n          \"user\": user,\n          \"displayName\": \"\",\n          \"bio\": \"\",\n          \"location\": \"\",\n          \"schoolcompany\": \"\",\n          \"loaded\": true,\n          \"resume\": \"\",\n          \"area_of_training\": \"Software Engineering\"\n        };\n        this.loadedProfile(userProfile);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.getUserProfile(user);\n      } else {\n        this.setState({\n          \"loaded\": true,\n          \"user\": null\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.loaded) {\n      if (this.state.user) {\n        return __jsx(React.Fragment, null, __jsx(Navbar, {\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }), __jsx(\"div\", {\n          className: \"container\",\n          style: {\n            \"justify-content\": \"center\",\n            \"padding\": \"16px\",\n            marginBottom: \"32px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"page-heading\",\n          style: {\n            \"align-self\": \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, \"Fill Out Your Profile\"), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }), __jsx(\"form\", {\n          style: {\n            alignSelf: \"center\",\n            width: \"60%\",\n            height: \"80%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, __jsx(\"input\", {\n          name: \"displayName\",\n          placeholder: \"Enter Name\",\n          value: this.state.displayName,\n          onChange: this.handleChange,\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }), __jsx(\"input\", {\n          name: \"schoolcompany\",\n          placeholder: \"School/Company\",\n          value: this.state.schoolcompany,\n          onChange: this.handleChange,\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }), __jsx(\"input\", {\n          name: \"location\",\n          placeholder: \"Location\",\n          value: this.state.location,\n          onChange: this.handleChange,\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }), __jsx(\"textarea\", {\n          name: \"bio\",\n          placeholder: \"Bio (100 words limit)\",\n          value: this.state.bio,\n          onChange: this.handleChange,\n          rows: \"4\",\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }), __jsx(\"input\", {\n          name: \"resume\",\n          placeholder: \"Resume URL\",\n          value: this.state.resume,\n          onChange: this.handleChange,\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }), __jsx(\"div\", {\n          style: {\n            fontFamily: \"Open Sans, sans-serif\",\n            fontSize: \"1.4rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }, \"Choose your area of training -\"), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357\n          },\n          __self: this\n        }), __jsx(\"select\", {\n          value: this.state.area_of_training,\n          name: \"area_of_training\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        }, __jsx(\"option\", {\n          value: \"Software Engineering\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362\n          },\n          __self: this\n        }, \"Software Engineering\"), __jsx(\"option\", {\n          value: \"Data Science\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363\n          },\n          __self: this\n        }, \"Data Science\")), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }), __jsx(\"input\", {\n          name: \"coachcode\",\n          placeholder: \"Coach Access Code\",\n          value: this.state.coachcode,\n          onChange: this.handleChange,\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }), (() => {\n          if (this.state.isCoach) {\n            return __jsx(\"input\", {\n              name: \"calendlylink\",\n              placeholder: \"Enter your calendly link\",\n              value: this.state.calendlylink,\n              onChange: this.handleChange,\n              style: {\n                width: \"100%\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 390\n              },\n              __self: this\n            });\n          }\n        })(), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        }), __jsx(\"button\", {\n          className: \"mdc-button mdc-button--raised\",\n          style: {\n            \"background\": \"orange\",\n            \"width\": \"100%\",\n            \"margin-bottom\": \"10vh\"\n          },\n          onClick: this.editProfile,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          className: \"mdc-button__label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 409\n          },\n          __self: this\n        }, \"Save\")), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }))));\n      } else {\n        return __jsx(LoggedOut, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 431\n          },\n          __self: this\n        });\n      }\n    } else {\n      return __jsx(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["C:\\Users\\santh\\WebstormProjects\\ExchangeTrain\\pages\\profile.js"],"names":["React","Component","firebase","Router","TextField","Button","Navbar","Loader","isWebUri","LoggedOut","Profile","constructor","props","state","handleChange","bind","loadedProfile","editProfile","handleAccessCode","cutWords","strVal","result","resultArray","split","length","slice","join","coachcode","process","env","COACH_CODE","toString","setState","event","preventDefault","nameVal","target","name","valueVal","value","inputMap","stateMap","key","hasOwnProperty","validateForm","error","displayName","bio","schoolcompany","location","area_of_training","resume","isCoach","calendlylink","alert","settingData","setMap","dbRef","firestore","collection","doc","user","uid","set","then","userProfile","catch","console","log","getUserProfile","db","docRef","get","exists","data","componentDidMount","auth","onAuthStateChanged","render","loaded","marginBottom","alignSelf","width","height","fontFamily","fontSize"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport firebase from \"../components/firebase\";\r\nimport Router from 'next/router';\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport Button from '@material-ui/core/Button';\r\nimport \"../styling/style.css\"\r\nimport Navbar from \"../components/navbar\";\r\nimport Loader from \"../components/Loader\"\r\nimport {isWebUri} from \"valid-url\"\r\nimport LoggedOut from \"../components/loggedout\";\r\nimport \"../styling/material-components-web.min.css\";\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \"user\": null,\r\n            \"loaded\": false,\r\n            \"displayName\": \"\",\r\n            \"bio\": \"\",\r\n            \"coachcode\": \"\",\r\n            \"schoolcompany\": \"\",\r\n            \"location\": \"\",\r\n            \"isCoach\": false,\r\n            \"calendlylink\": \"\",\r\n            \"resume\": \"\",\r\n            \"area_of_training\":\"Software Engineering\"\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadedProfile = this.loadedProfile.bind(this);\r\n        this.editProfile = this.editProfile.bind(this);\r\n        this.handleAccessCode = this.handleAccessCode.bind(this);\r\n        this.cutWords = this.cutWords.bind(this);\r\n\r\n    }\r\n\r\n    cutWords(strVal) {\r\n        let result = strVal;\r\n        let resultArray = result.split(\" \");\r\n        if (resultArray.length > 100) {\r\n            resultArray = resultArray.slice(0, 100);\r\n            result = resultArray.join(\" \") + \"...\";\r\n        }\r\n        // console.log(\"invoked cutwords\");\r\n        return result;\r\n    }\r\n\r\n\r\n    handleAccessCode() {\r\n\r\n\r\n\r\n\r\n        if (this.state.coachcode === process.env.COACH_CODE.toString()) {\r\n            this.setState({\"coachcode\": this.state.coachcode, \"isCoach\": true})\r\n        }\r\n        else {\r\n            this.setState({\"coachcode\": this.state.coachcode, \"isCoach\": false})\r\n        }\r\n\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        event.preventDefault();\r\n        const nameVal = event.target.name;\r\n        const valueVal = event.target.value;\r\n        this.setState({[nameVal]: valueVal})\r\n    }\r\n\r\n    loadedProfile(inputMap) {\r\n\r\n\r\n        const stateMap = {};\r\n\r\n        for (const key in inputMap) {\r\n\r\n            if (inputMap.hasOwnProperty(key)) {\r\n                stateMap[key] = inputMap[key];\r\n            }\r\n        }\r\n\r\n\r\n\r\n        this.setState(\r\n            stateMap\r\n        );\r\n\r\n    }\r\n\r\n    validateForm() {\r\n        let error = \"\";\r\n\r\n\r\n        if (!this.state.displayName) {\r\n            error += \" Please add your name.\";\r\n        }\r\n        if (!this.state.bio) {\r\n            error += \" Please add your bio.\";\r\n        }\r\n        if (!this.state.schoolcompany) {\r\n            error += \" Please list your school or company.\";\r\n        }\r\n        if (!this.state.location) {\r\n            error += \" Please enter your location.\"\r\n        }\r\n        if(!this.state.area_of_training){\r\n            error += \" Please choose your area of training (data science, software engineering, etc)\"\r\n        }\r\n        if (!this.state.resume) {\r\n            error += \" Please add a link to your resume.\"\r\n        }\r\n        else {\r\n\r\n            if (!isWebUri(this.state.resume)) {\r\n                error += \"Please enter a valid URL for your resume\";\r\n            }\r\n        }\r\n\r\n        if (this.state.isCoach) {\r\n            if (!this.state.calendlylink) {\r\n                error += \" Please add your calendly link\"\r\n            }\r\n\r\n        }\r\n\r\n        if (error) {\r\n            alert(error);\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    settingData() {\r\n\r\n\r\n        const setMap = {\r\n            \"displayName\": this.state.displayName,\r\n            \"bio\": this.state.bio,\r\n            \"location\": this.state.location,\r\n            \"schoolcompany\": this.state.schoolcompany,\r\n            \"resume\": this.state.resume,\r\n            \"area_of_training\":this.state.area_of_training\r\n\r\n        };\r\n\r\n        if (this.state.isCoach) {\r\n            setMap[\"isCoach\"] = true;\r\n            setMap[\"coachcode\"] = this.state.coachcode;\r\n            setMap[\"calendlylink\"] = this.state.calendlylink;\r\n        }\r\n\r\n        return setMap;\r\n    }\r\n\r\n    editProfile(event) {\r\n        event.preventDefault();\r\n\r\n        if (this.validateForm()) {\r\n\r\n            this.handleAccessCode();\r\n            this.state.bio = this.cutWords(this.state.bio);\r\n\r\n            const dbRef = firebase.firestore().collection(\"Profiles\").doc(this.state.user.uid).set(this.settingData()).then(() => {\r\n\r\n                const userProfile = {\r\n                    \"user\": this.state.user,\r\n                    \"displayName\": this.state.displayName,\r\n                    \"bio\": this.state.bio,\r\n                    \"location\": this.state.location,\r\n                    \"schoolcompany\": this.state.schoolcompany,\r\n                    \"resume\": this.state.resume,\r\n                    \"area_of_training\":this.state.area_of_training\r\n\r\n                };\r\n                if (this.state.isCoach) {\r\n                    userProfile[\"isCoach\"] = true;\r\n                    userProfile[\"coachcode\"] = this.state.coachcode;\r\n                    userProfile[\"calendlylink\"] = this.state.calendlylink;\r\n                }\r\n                this.loadedProfile(userProfile);\r\n                alert(\"Profile Saved\");\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    getUserProfile(user) {\r\n        const db = firebase.firestore();\r\n        const docRef = db.collection(\"Profiles\").doc(user.uid);\r\n        docRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n\r\n\r\n                const userProfile = {\r\n                    \"user\": user,\r\n                    \"displayName\": doc.data().displayName,\r\n                    \"bio\": doc.data().bio,\r\n                    \"location\": doc.data().location,\r\n                    \"schoolcompany\": doc.data().schoolcompany,\r\n                    \"loaded\": true,\r\n                    \"resume\": doc.data().resume,\r\n                    \"area_of_training\":doc.data().area_of_training\r\n                };\r\n\r\n                if (doc.data().isCoach) {\r\n                    userProfile[\"isCoach\"] = true;\r\n                    userProfile[\"coachcode\"] = doc.data().coachcode;\r\n                    userProfile[\"calendlylink\"] = doc.data().calendlylink;\r\n                }\r\n                this.loadedProfile(userProfile);\r\n\r\n            }\r\n            else {\r\n                console.log(\"no document\");\r\n                const userProfile = {\r\n                    \"user\": user,\r\n                    \"displayName\": \"\",\r\n                    \"bio\": \"\",\r\n                    \"location\": \"\",\r\n                    \"schoolcompany\": \"\",\r\n                    \"loaded\": true,\r\n                    \"resume\": \"\",\r\n                    \"area_of_training\":\"Software Engineering\"\r\n                };\r\n                this.loadedProfile(userProfile)\r\n\r\n            }\r\n        }).catch(function (error) {\r\n            console.log(error);\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n\r\n            if (user) {\r\n\r\n                this.getUserProfile(user);\r\n\r\n            }\r\n            else {\r\n                this.setState({\"loaded\": true, \"user\": null});\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.state.loaded) {\r\n\r\n            if (this.state.user) {\r\n                return (\r\n\r\n                    <>\r\n                        <Navbar user={this.state.user}/>\r\n\r\n                        <div className=\"container\" style={{\"justify-content\": \"center\", \"padding\":\"16px\",marginBottom:\"32px\"}}>\r\n\r\n\r\n                            <div className=\"page-heading\" style={{\"align-self\": \"center\"}}>Fill Out Your Profile</div>\r\n\r\n                            <br/><br/>\r\n\r\n\r\n                            <form style={{alignSelf:\"center\", width: \"60%\", height: \"80%\"}}>\r\n\r\n\r\n                                <input\r\n\r\n                                    name=\"displayName\"\r\n                                    placeholder=\"Enter Name\"\r\n                                    value={this.state.displayName}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n                                />\r\n                                <br/><br/><br/><br/>\r\n\r\n                                <input\r\n                                    name=\"schoolcompany\"\r\n                                    placeholder=\"School/Company\"\r\n                                    value={this.state.schoolcompany}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n                                <input\r\n                                    name=\"location\"\r\n                                    placeholder=\"Location\"\r\n                                    value={this.state.location}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n                                <textarea\r\n\r\n                                    name=\"bio\"\r\n                                    placeholder=\"Bio (100 words limit)\"\r\n                                    value={this.state.bio}\r\n                                    onChange={this.handleChange}\r\n\r\n                                    rows=\"4\"\r\n\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n                                <input\r\n\r\n                                    name=\"resume\"\r\n                                    placeholder=\"Resume URL\"\r\n                                    value={this.state.resume}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n\r\n                                />\r\n\r\n                                <br/><br/>\r\n\r\n\r\n\r\n\r\n                                <br/><br/>\r\n\r\n                                <div style={{ fontFamily: \"Open Sans, sans-serif\",\r\n                                    fontSize:\"1.4rem\"}}>\r\n                                    Choose your area of training -\r\n                                </div>\r\n                                <br/>\r\n\r\n\r\n                                <select value={this.state.area_of_training} name=\"area_of_training\" onChange={this.handleChange}>\r\n\r\n                                    <option value=\"Software Engineering\">Software Engineering</option>\r\n                                    <option value=\"Data Science\">Data Science</option>\r\n\r\n                                </select>\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n                                <input\r\n                                    name=\"coachcode\"\r\n                                    placeholder=\"Coach Access Code\"\r\n                                    value={this.state.coachcode}\r\n                                    onChange={this.handleChange}\r\n                                    style={{width: \"100%\"}}\r\n\r\n                                />\r\n                                <br/><br/><br/><br/>\r\n\r\n\r\n\r\n\r\n\r\n                                {(() => {\r\n\r\n\r\n                                    if (this.state.isCoach) {\r\n                                        return (\r\n\r\n                                            <input\r\n                                                name=\"calendlylink\"\r\n                                                placeholder=\"Enter your calendly link\"\r\n                                                value={this.state.calendlylink}\r\n                                                onChange={this.handleChange}\r\n                                                style={{width: \"100%\"}}\r\n\r\n                                            />\r\n                                        )\r\n                                    }\r\n\r\n\r\n                                })()}\r\n\r\n\r\n                                <br/><br/><br/><br/>\r\n\r\n                                <button className=\"mdc-button mdc-button--raised\"\r\n                                        style={{\"background\": \"orange\", \"width\": \"100%\",\"margin-bottom\":\"10vh\"}} onClick={this.editProfile}>\r\n                                    <span className=\"mdc-button__label\">Save</span>\r\n                                </button>\r\n\r\n                                <br/><br/>\r\n                                <br/><br/><br/>\r\n\r\n\r\n\r\n                                {/*<Button color=\"primary\" variant=\"contained\" onClick={this.editProfile}>*/}\r\n                                {/*Save*/}\r\n                                {/*</Button>*/}\r\n\r\n                            </form>\r\n\r\n                        </div>\r\n\r\n                    </>\r\n\r\n\r\n                );\r\n            }\r\n            else {\r\n                return (<LoggedOut/>)\r\n\r\n            }\r\n        }\r\n        else {\r\n            return (<Loader/>);\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}